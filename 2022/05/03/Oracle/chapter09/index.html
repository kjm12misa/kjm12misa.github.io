<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>🎈Oracle PL/SQL_Chapter 09 | myblog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="01. PL&#x2F;SQL 제어문1. IF 문 특정 조건에 따라 처리하는 조건문 기본 유형  123456789101112131415161718192021&lt;조건이 1개일 경우&gt;   IF 조건 THEN      조건 처리;   END IF;   &lt;조건이 2개일 경우&gt;   IF 조건 THEN      조건 처리 1;   ELSE     조">
<meta property="og:type" content="article">
<meta property="og:title" content="🎈Oracle PL&#x2F;SQL_Chapter 09">
<meta property="og:url" content="https://kjm12misa.github.io/2022/05/03/Oracle/chapter09/index.html">
<meta property="og:site_name" content="myblog">
<meta property="og:description" content="01. PL&#x2F;SQL 제어문1. IF 문 특정 조건에 따라 처리하는 조건문 기본 유형  123456789101112131415161718192021&lt;조건이 1개일 경우&gt;   IF 조건 THEN      조건 처리;   END IF;   &lt;조건이 2개일 경우&gt;   IF 조건 THEN      조건 처리 1;   ELSE     조">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%201.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%203.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png">
<meta property="og:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled%204.png">
<meta property="article:published_time" content="2022-05-03T00:00:00.000Z">
<meta property="article:modified_time" content="2022-05-03T11:52:21.215Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kjm12misa.github.io/%5Cimages%5COracle%5Cchapter09%5CUntitled.png">
  
    <link rel="alternate" href="/atom.xml" title="myblog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">myblog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kjm12misa.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Oracle/chapter09" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/03/Oracle/chapter09/" class="article-date">
  <time class="dt-published" datetime="2022-05-03T00:00:00.000Z" itemprop="datePublished">2022-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      🎈Oracle PL/SQL_Chapter 09
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="01-PL-x2F-SQL-제어문"><a href="#01-PL-x2F-SQL-제어문" class="headerlink" title="01. PL&#x2F;SQL 제어문"></a>01. PL&#x2F;SQL 제어문</h1><h3 id="1-IF-문"><a href="#1-IF-문" class="headerlink" title="1. IF 문"></a>1. IF 문</h3><ul>
<li>특정 조건에 따라 처리하는 조건문</li>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;조건이 1개일 경우&gt;</span><br><span class="line">   IF 조건 THEN</span><br><span class="line">      조건 처리;</span><br><span class="line">   END IF;</span><br><span class="line"></span><br><span class="line">   &lt;조건이 2개일 경우&gt;</span><br><span class="line">   IF 조건 THEN</span><br><span class="line">      조건 처리 1;</span><br><span class="line">   ELSE</span><br><span class="line">     조건 처리 2;</span><br><span class="line">   END IF;</span><br><span class="line"></span><br><span class="line">   &lt;조건이 n개일 경우&gt;</span><br><span class="line">   IF 조건1 THEN</span><br><span class="line">      조건 처리1;</span><br><span class="line">   ELSIF 조건2 THEN</span><br><span class="line">     조건 처리2;</span><br><span class="line">     ...</span><br><span class="line">   ELSE</span><br><span class="line">      조건 처리n;</span><br><span class="line">   END IF;</span><br></pre></td></tr></table></figure>

<ul>
<li>시작하기 전 ….</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> SERVEROUTPUT <span class="keyword">ON</span></span><br></pre></td></tr></table></figure>

<ul>
<li>예제</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_num1 NUMBER :<span class="operator">=</span> <span class="number">1</span>;<span class="comment">-- 변수명(vn_num1) 데이터 타입(NUMBER := 1)</span></span><br><span class="line">	vn_num2 NUMBER :<span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	IF vn_num1 <span class="operator">&gt;=</span> vn_num2 <span class="keyword">THEN</span></span><br><span class="line">		DBMS_OUTPUT.PUT_LINE(vn_num1 <span class="operator">||</span> <span class="string">&#x27;이 큰 수&#x27;</span>); <span class="comment">-- 조건처리 1</span></span><br><span class="line">	<span class="keyword">ELSE</span></span><br><span class="line">		DBMS_OUTPUT.PUT_LINE(vn_num2 <span class="operator">||</span> <span class="string">&#x27;이 큰 수&#x27;</span>); <span class="comment">-- 조건처리 2</span></span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- vn_num2가 vn_num1보다 크므로 ELSE 부분으로 제어가 넘어가 실행됨.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*Action:</span><br><span class="line">2이 큰 수</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>
</li>
<li><p>&lt;조건이 n개일 경우_ELSE IF 사용&gt;</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_salary NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 변수 초기화, 아무런 값이 없으면 디폴트 값으로 0을 넣어준다</span></span><br><span class="line">	vn_department_id NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 변수 초기화</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="comment">-- 10부터 120까지 숫자를 생성한 후 10의 자리(-1)에서 round 처리를 해서</span></span><br><span class="line">	<span class="comment">-- 무작위로 10, 20, 30 ,... 120 까지 수를 vn_department_id에 할당하는 아래 코드 </span></span><br><span class="line">	vn_department_id :<span class="operator">=</span> ROUND(DBMS_RANDOM.VALUE (<span class="number">10</span>, <span class="number">120</span>), <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">SELECT</span> salary</span><br><span class="line">        <span class="keyword">INTO</span> vn_salary <span class="comment">-- 2. 1,번에 선택 된 사원의 급여를 가져와 vn_salary 변수에 넣음</span></span><br><span class="line">	    <span class="keyword">FROM</span> employees</span><br><span class="line">	    <span class="keyword">WHERE</span> department_id <span class="operator">=</span> vn_department_id</span><br><span class="line">		    <span class="keyword">AND</span> ROWNUM <span class="operator">=</span> <span class="number">1</span>; <span class="comment">-- 1. 이 변수 값에 해당하는 부서번호를 가진 사원을 무작위로 1명 선택 해</span></span><br><span class="line"></span><br><span class="line">	DBMS_OUTPUT.PUT_LINE(vn_salary);</span><br><span class="line">	</span><br><span class="line">	IF vn_salary <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">3000</span> <span class="keyword">THEN</span></span><br><span class="line">		    DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;낮음&#x27;</span>);</span><br><span class="line">	ELSIF vn_salary <span class="keyword">BETWEEN</span> <span class="number">3001</span> <span class="keyword">AND</span> <span class="number">6000</span> <span class="keyword">THEN</span></span><br><span class="line">			DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;중간&#x27;</span>);</span><br><span class="line">	ELSIF vn_salary <span class="keyword">BETWEEN</span> <span class="number">6001</span> <span class="keyword">AND</span> <span class="number">10000</span> <span class="keyword">THEN</span></span><br><span class="line">			DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;높음&#x27;</span>);</span><br><span class="line">	<span class="keyword">ELSE</span></span><br><span class="line">			DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;최상위&#x27;</span>);</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">12008</span><br><span class="line">최상위</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>
</li>
<li><p>중첩 IF 문</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_salary NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	vn_department_id NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	vn_commission NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	vn_department_id :<span class="operator">=</span> ROUND(DBMS_RANDOM.VALUE (<span class="number">10</span>, <span class="number">120</span>), <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">SELECT</span> salary, commission_pct</span><br><span class="line">	<span class="keyword">INTO</span>  vn_salary, vn_commission</span><br><span class="line">	<span class="keyword">FROM</span> employees</span><br><span class="line">	<span class="keyword">WHERE</span> department_id <span class="operator">=</span> vn_department_id</span><br><span class="line">		<span class="keyword">AND</span> ROWNUM <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    DBMS_OUTPUT.PUT_LINE(vn_salary);</span><br><span class="line"></span><br><span class="line">	IF vn_commission <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">    IF vn_commission <span class="operator">&gt;</span> <span class="number">0.15</span> <span class="keyword">THEN</span></span><br><span class="line">        DBMS_OUTPUT.PUT_LINE(vn_salary <span class="operator">*</span> vn_commission);</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line">	<span class="keyword">ELSE</span></span><br><span class="line">        DBMS_OUTPUT.PUT_LINE(vn_salary);</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">14000</span><br><span class="line">5600</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-CASE-문"><a href="#2-CASE-문" class="headerlink" title="2. CASE 문"></a>2. <strong>CASE 문</strong></h3><ul>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;유형 1&gt;</span><br><span class="line">   CASE 표현식</span><br><span class="line">       WHEN 결과1 THEN</span><br><span class="line">            처리문1;</span><br><span class="line">       WHEN 결과2 THEN</span><br><span class="line">            처리문2;</span><br><span class="line">       ...</span><br><span class="line">       ELSE</span><br><span class="line">            기타 처리문;</span><br><span class="line">   END CASE;</span><br><span class="line"></span><br><span class="line">   &lt;유형 2&gt;</span><br><span class="line">   CASE WHEN 표현식1 THEN</span><br><span class="line">            처리문1;</span><br><span class="line">       WHEN 표현식2 THEN</span><br><span class="line">            처리문2;</span><br><span class="line">       ...</span><br><span class="line">       ELSE</span><br><span class="line">            기타 처리문;</span><br><span class="line">   END CASE;</span><br></pre></td></tr></table></figure>

<ul>
<li>예제</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_salary NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 변수 초기화</span></span><br><span class="line">	vn_department_id NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 변수 초기화</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	vn_department_id :<span class="operator">=</span> ROUND(DBMS_RANDOM.VALUE (<span class="number">10</span>, <span class="number">120</span>), <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">SELECT</span> salary</span><br><span class="line">		<span class="keyword">INTO</span> vn_salary</span><br><span class="line">	    <span class="keyword">FROM</span> employees</span><br><span class="line">	    <span class="keyword">WHERE</span> department_id <span class="operator">=</span> vn_department_id</span><br><span class="line">		    <span class="keyword">AND</span> ROWNUM <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	DBMS_OUTPUT.PUT_LINE(vn_salary);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CASE</span> <span class="keyword">WHEN</span> vn_salary <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">3000</span> <span class="keyword">THEN</span></span><br><span class="line">				DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;낮음&#x27;</span>);</span><br><span class="line">			<span class="keyword">WHEN</span> vn_salary <span class="keyword">BETWEEN</span> <span class="number">3001</span> <span class="keyword">AND</span> <span class="number">6000</span> <span class="keyword">THEN</span></span><br><span class="line">				DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;중간&#x27;</span>);</span><br><span class="line">			<span class="keyword">WHEN</span> vn_salary <span class="keyword">BETWEEN</span> <span class="number">6001</span> <span class="keyword">AND</span> <span class="number">10000</span> <span class="keyword">THEN</span></span><br><span class="line">				DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;높음&#x27;</span>);</span><br><span class="line">			<span class="keyword">ELSE</span></span><br><span class="line">				DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;최상위&#x27;</span>);</span><br><span class="line">			<span class="keyword">END</span> <span class="keyword">CASE</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">12008</span><br><span class="line">최상위</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-LOOP"><a href="#3-LOOP" class="headerlink" title="3. LOOP"></a>3. LOOP</h3><ul>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LOOP</span><br><span class="line">      처리문;</span><br><span class="line">      EXIT [WHEN 조건];</span><br><span class="line">    END LOOP;</span><br></pre></td></tr></table></figure>

<ul>
<li>LOOP를 적용하기 전에 출력</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">	vn_cnt      NUMBER :<span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">			DBMS_OUTPUT.PUT_LINE(vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> vn_cnt <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span></span><br><span class="line">								<span class="operator">||</span> vn_base_num <span class="operator">*</span> vn_cnt);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3*2= 6</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>
</li>
<li><p>예제</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">	vn_cnt      NUMBER :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	LOOP</span><br><span class="line">		DBMS_OUTPUT.PUT_LINE(vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> vn_cnt <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span></span><br><span class="line">							<span class="operator">||</span> vn_base_num <span class="operator">*</span> vn_cnt);</span><br><span class="line">		vn_cnt :<span class="operator">=</span> vn_cnt <span class="operator">+</span> <span class="number">1</span>; <span class="comment">-- 루프를 돌면서 vn_cnt 값은 1씩 증가됨</span></span><br><span class="line"></span><br><span class="line">	EXIT <span class="keyword">WHEN</span> vn_cnt <span class="operator">&gt;</span> <span class="number">9</span>; <span class="comment">-- vn_cnt가 9보다 크면 루프 종료</span></span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled.png" alt="Untitled"></p>
</li>
</ul>
<h3 id="4-WHILE-문"><a href="#4-WHILE-문" class="headerlink" title="4. WHILE 문"></a>4. WHILE 문</h3><ul>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WHILE 조건</span><br><span class="line">     LOOP</span><br><span class="line">      처리문;</span><br><span class="line">    END LOOP;</span><br></pre></td></tr></table></figure>

<ul>
<li>예제</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">	vn_cnt      NUMBER :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">-- 조건식이 참일 때만 실행</span></span><br><span class="line"><span class="comment">-- 조건식이 거짓이 때는 실행 중지</span></span><br><span class="line">WHILE vn_cnt <span class="operator">&lt;=</span> <span class="number">9</span> <span class="comment">-- 9 보다 작거나 같을 때만 반복 처리</span></span><br><span class="line">	LOOP</span><br><span class="line">		DBMS_OUTPUT.PUT_LINE(vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> vn_cnt <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span></span><br><span class="line">							<span class="operator">||</span> vn_base_num <span class="operator">*</span> vn_cnt);</span><br><span class="line">		vn_cnt :<span class="operator">=</span> vn_cnt <span class="operator">+</span> <span class="number">1</span>; <span class="comment">-- 루프를 돌면서 vn_cnt 값은 1씩 증가됨</span></span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>WHILE 문에서 EXIT를 써서 루프 빠져 나오는 구문 작성</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">	vn_cnt      NUMBER :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">WHILE vn_cnt <span class="operator">&lt;=</span> <span class="number">9</span></span><br><span class="line">	LOOP</span><br><span class="line">		DBMS_OUTPUT.PUT_LINE(vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> vn_cnt <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span></span><br><span class="line">							<span class="operator">||</span> vn_base_num <span class="operator">*</span> vn_cnt);</span><br><span class="line">		<span class="comment">-- break 문 = EXIT</span></span><br><span class="line">		EXIT <span class="keyword">WHEN</span> vn_cnt <span class="operator">=</span> <span class="number">5</span>; <span class="comment">-- vn_cnt 값이 5가 되면 루프 종료</span></span><br><span class="line">		vn_cnt :<span class="operator">=</span> vn_cnt <span class="operator">+</span> <span class="number">1</span>; <span class="comment">-- vn_cnt 값을 1씩 증가</span></span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%201.png" alt="Untitled"></p>
</li>
</ul>
<h3 id="5-FOR-문"><a href="#5-FOR-문" class="headerlink" title="5. FOR 문"></a>5. FOR 문</h3><ul>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FOR 인덱스 IN [REVERSE]초깃값..최종값</span><br><span class="line">   LOOP</span><br><span class="line">     처리문;</span><br><span class="line">   END LOOP;</span><br></pre></td></tr></table></figure>

<ul>
<li>LOOP와 같이 쓰일 때</li>
<li>인덱스는 초깃값에서 시작해 최종값까지 루프를 돌며 1씩 증가</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="number">1.</span><span class="number">.9</span></span><br><span class="line">	LOOP <span class="comment">-- 인덱스는 선언부에서 선언하지 않고 사용</span></span><br><span class="line">		DBMS_OUTPUT.PUT_LINE (vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> i <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span> <span class="operator">||</span> vn_base_num <span class="operator">*</span> i);</span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">3**1= 3</span><br><span class="line">3**2= 6</span><br><span class="line">3**3= 9</span><br><span class="line">3**4= 12</span><br><span class="line">3**5= 15</span><br><span class="line">3**6= 18</span><br><span class="line">3**7= 21</span><br><span class="line">3**8= 24</span><br><span class="line">3*9= 27</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>
</li>
<li><p>REVERSE 사용 예제</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">FOR</span> i <span class="keyword">IN</span> REVERSE <span class="number">9.</span><span class="number">.1</span></span><br><span class="line">	LOOP</span><br><span class="line">		DBMS_OUTPUT.PUT_LINE (vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> i <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span> <span class="operator">||</span> vn_base_num <span class="operator">*</span> i);</span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">3*9= 27</span><br><span class="line">3*8= 24</span><br><span class="line">3*7= 21</span><br><span class="line">3*6= 18</span><br><span class="line">3*5= 15</span><br><span class="line">3*4= 12</span><br><span class="line">3*3= 9</span><br><span class="line">3*2= 6</span><br><span class="line">3*1= 3</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6-CONTINUE-문"><a href="#6-CONTINUE-문" class="headerlink" title="6. CONTINUE 문"></a>6. CONTINUE 문</h3><ul>
<li>반복문 내에서 특정 조건에 부합할 때 처리 로직을 건너뛰고 상단의 루프 조건으로 건너가 루프를 계속 수행할 때 사용</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">	vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="number">1.</span><span class="number">.9</span></span><br><span class="line">	LOOP</span><br><span class="line"><span class="comment">-- i 값이 5가 됐을 때 하단의 로직을 수행하지 않고 다시 for 조건 절로 제어가 옮겨져 처리.</span></span><br><span class="line">		CONTINUE <span class="keyword">WHEN</span> i <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">		DBMS_OUTPUT.PUT_LINE (vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> i <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span> <span class="operator">||</span> vn_base_num <span class="operator">*</span> i);</span><br><span class="line">	<span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>결과  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3*1= 3</span><br><span class="line">3*2= 6</span><br><span class="line">3*3= 9</span><br><span class="line">3*4= 12</span><br><span class="line">3*6= 18</span><br><span class="line">3*7= 21</span><br><span class="line">3*8= 24</span><br><span class="line">3*9= 27</span><br><span class="line"></span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>
<h3 id="7-GOTO-문"><a href="#7-GOTO-문" class="headerlink" title="7. GOTO 문"></a>7. GOTO 문</h3><ul>
<li>사용자 정의 함수와 약간 비슷.</li>
<li>코드 상에서 GOTO문을 만나면 GOTO문이 지정하는 라벨로 제어가 넘어간다</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    vn_base_num NUMBER :<span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="operator">&lt;&lt;</span>third<span class="operator">&gt;&gt;</span></span><br><span class="line">    <span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="number">1.</span><span class="number">.9</span></span><br><span class="line">    LOOP</span><br><span class="line">    	DBMS_OUTPUT.PUT_LINE (vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> i <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span> <span class="operator">||</span> vn_base_num <span class="operator">*</span> i);</span><br><span class="line">    	IF i <span class="operator">=</span> <span class="number">3</span> <span class="keyword">THEN</span></span><br><span class="line">    		GOTO fourth;</span><br><span class="line">    	<span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">END</span> LOOP;</span><br><span class="line">    </span><br><span class="line">    <span class="operator">&lt;&lt;</span>fourth<span class="operator">&gt;&gt;</span></span><br><span class="line">    vn_base_num :<span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="number">1.</span><span class="number">.9</span></span><br><span class="line">    LOOP</span><br><span class="line">    	DBMS_OUTPUT.PUT_LINE (vn_base_num <span class="operator">||</span> <span class="string">&#x27;*&#x27;</span> <span class="operator">||</span> i <span class="operator">||</span> <span class="string">&#x27;= &#x27;</span> <span class="operator">||</span> vn_base_num <span class="operator">*</span> i);</span><br><span class="line">    <span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>결과</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3**1= 3</span><br><span class="line">3**2= 6</span><br><span class="line">3**3= 9</span><br><span class="line">4**1= 4</span><br><span class="line">4**2= 8</span><br><span class="line">4**3= 12</span><br><span class="line">4**4= 16</span><br><span class="line">4**5= 20</span><br><span class="line">4**6= 24</span><br><span class="line">4**7= 28</span><br><span class="line">4**8= 32</span><br><span class="line">4**9= 36</span><br><span class="line">    </span><br><span class="line">PL/SQL 프로시저가 성공적으로 완료되었습니다.</span><br></pre></td></tr></table></figure>

<h3 id="8-NULL-문"><a href="#8-NULL-문" class="headerlink" title="8. NULL 문"></a>8. NULL 문</h3><ul>
<li>아무것도 처리하지 않는 문장</li>
<li>주로 IF 문, CASE문을 작성할 때 사용하고 ELSE절을 수행할 때 아무것도 처리하지 않고 싶은 경우 사용.</li>
</ul>
<h1 id="02-PL-x2F-SQL의-사용자-정의-함수"><a href="#02-PL-x2F-SQL의-사용자-정의-함수" class="headerlink" title="02. PL&#x2F;SQL의 사용자 정의 함수"></a>02. PL&#x2F;SQL의 사용자 정의 함수</h1><h3 id="1-함수-생성"><a href="#1-함수-생성" class="headerlink" title="1. 함수 생성"></a>1. <strong>함수 생성</strong></h3><ul>
<li>몫의 값의 나머지를 반환하는 함수 생성</li>
<li>기본 유형</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- CREATE OR REPLACE FUNCTION: CREATE OR REPLACE 구문을 사용해 함수를 생성</span><br><span class="line">- 매개변수 : 함수로 전달되는 매개변수로, “매개변수명 데이터 타입” 형태로 명시한다. 매개변수는 생략 가능</span><br><span class="line">- RETURN 데이터 타입: 함수가 반환할 데이터 타입을 지정</span><br><span class="line">- RETURN 반환값: 매개변수를 받아 특정 연산을 수행한 후 반환할 값을 명시</span><br><span class="line"></span><br><span class="line">CREATE OR REPLACE FUNCTION 함수 이름 (매개변수1, 매개변수2, ...)</span><br><span class="line">    RETURN 데이터타입;</span><br><span class="line">    IS[AS]</span><br><span class="line">      변수, 상수 등 선언</span><br><span class="line">    BEGIN</span><br><span class="line">      실행부</span><br><span class="line"></span><br><span class="line">      RETURN 반환값;</span><br><span class="line">    [EXCEPTION</span><br><span class="line">      예외 처리부]</span><br><span class="line">    END [함수 이름];</span><br></pre></td></tr></table></figure>

<ul>
<li>예제</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> my_mod (num1 NUMBER, num2 NUMBER)</span><br><span class="line">    <span class="keyword">RETURN</span> NUMBER <span class="comment">-- 반환 데이터 타입은 NUMBER</span></span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">    vn_remainder NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 반환할 나머지</span></span><br><span class="line">    vn_quotient  NUMBER :<span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 몫</span></span><br><span class="line"><span class="keyword">BEGIN</span> <span class="comment">-- 코드가 실제로 실행하는 구간</span></span><br><span class="line">    vn_quotient :<span class="operator">=</span> <span class="built_in">FLOOR</span>(num1 <span class="operator">/</span> num2); <span class="comment">-- 피젯수/젯수 결과에서 정수 부분을 걸러 낸다</span></span><br><span class="line">    vn_remainder :<span class="operator">=</span> num1 <span class="operator">-</span> (num2 <span class="operator">*</span> vn_quotient); <span class="comment">-- 나머지 = 피젯수 - (젯수*몫)</span></span><br><span class="line"><span class="keyword">RETURN</span> vn_remainder; <span class="comment">-- 나머지 반환</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : Function MY_MOD이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ol>
<li>함수 호출</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> my_mod(<span class="number">17</span>, <span class="number">5</span>) TEMP <span class="comment">-- 결과 : 2 &#x27;몫이 3이고 나머지가 2&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br></pre></td></tr></table></figure>

<ul>
<li>국가 테이블에서 국가 번호를 받아 국가 명을 반환하는 함수 만들기</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> fn_get_country_name(p_country_id NUMBER)</span><br><span class="line">	<span class="keyword">RETURN</span> VARCHAR2 <span class="comment">-- 국가명을 반환하므로 반환 데이터 타입은 VARCHAR2</span></span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vs_country_name COUNTRIES.COUNTRY_NAME<span class="operator">%</span>TYPE;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">SELECT</span> country_name</span><br><span class="line">		<span class="keyword">INTO</span> vs_country_name</span><br><span class="line">		<span class="keyword">FROM</span> countries</span><br><span class="line">		<span class="keyword">WHERE</span> country_id <span class="operator">=</span> p_country_id;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">RETURN</span> vs_country_name; <span class="comment">-- 국가명 반환</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : Function FN_GET_COUNTRY_NAME이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>함수 호출</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> fn_get_country_name (<span class="number">52777</span>) COUN1 <span class="comment">-- 결과 : Denmark</span></span><br><span class="line">		, fn_get_country_name (<span class="number">10000</span>) COUN2 <span class="comment">-- 결과 : NULL</span></span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>– null 대신 ‘없음’ 이라는 문자열을 반환하는 예제</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> fn_get_country_name(p_country_id NUMBER)</span><br><span class="line">	<span class="keyword">RETURN</span> VARCHAR2 <span class="comment">-- 국가명을 반환하므로 반환 데이터 타입은 VARCHAR2</span></span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vs_country_name COUNTRIES.COUNTRY_NAME<span class="operator">%</span>TYPE;</span><br><span class="line">	vn_count NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">		<span class="keyword">INTO</span> vn_count</span><br><span class="line">		<span class="keyword">FROM</span> countries</span><br><span class="line">		<span class="keyword">WHERE</span> country_id <span class="operator">=</span> p_country_id;</span><br><span class="line"></span><br><span class="line">	IF vn_count <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">	    vs_country_name :<span class="operator">=</span> <span class="string">&#x27;해당국가 없음&#x27;</span>;</span><br><span class="line">	<span class="keyword">ELSE</span></span><br><span class="line">    <span class="keyword">SELECT</span> country_name</span><br><span class="line">        <span class="keyword">INTO</span> vs_country_name</span><br><span class="line">        <span class="keyword">FROM</span> countries</span><br><span class="line">        <span class="keyword">WHERE</span> country_id <span class="operator">=</span> p_country_id;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">RETURN</span> vs_country_name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : Function FN_GET_COUNTRY_NAME이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>count 수가 0이면 ‘해당 국가 없음’ 이란 문자열 값을 할당하고,</li>
<li>0이 아니면 다시 국가 명을 선택해 vs_country_name 변수에 할당해 반환</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	fn_get_country_name (<span class="number">52777</span>) coun1 <span class="comment">-- 결과 : Denmark</span></span><br><span class="line">	, fn_get_country_name (<span class="number">10000</span>) coun2 <span class="comment">-- 결과 : 해당국가 없음</span></span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br></pre></td></tr></table></figure>

<ul>
<li>현재 로그인한 사용자 이름 반환하는 함수 생성</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> fn_get_user</span><br><span class="line">	<span class="keyword">RETURN</span> VARCHAR2 <span class="comment">-- 반환 데이터타입은 VARCHAR2</span></span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vs_user_name VARCHAR2(<span class="number">80</span>);</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="keyword">USER</span></span><br><span class="line">		<span class="keyword">INTO</span> vs_user_name</span><br><span class="line">		<span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">RETURN</span> vs_user_name;  <span class="comment">-- 사용자 이름 반환</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : Function FN_GET_USER이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>매개변수가 없으면 함수 이름 다음에 ‘()’를 붙이거나 빼도 값은 동일 하게 나온다.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	fn_get_user() <span class="comment">-- 결과 : ORA_USER</span></span><br><span class="line">	, fn_get_user <span class="comment">-- 결과 : ORA_USER</span></span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br></pre></td></tr></table></figure>

<h3 id="02-프로시저"><a href="#02-프로시저" class="headerlink" title="02. 프로시저"></a>02. 프로시저</h3><ul>
<li>특정한 로직을 처리하기만 하고 결과 값을 반환하지는 않는 서브 프로그램</li>
</ul>
<ol>
<li><strong>프로시저 생성</strong></li>
</ol>
<ul>
<li>함수와 다르게 로직 처리만 수행&#x2F;결과 값 반환 (X)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">	, p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">	, p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">	, p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">					, job_title</span><br><span class="line">					, min_salary</span><br><span class="line">					, max_salary</span><br><span class="line">					, create_date</span><br><span class="line">					, update_date)</span><br><span class="line">	<span class="keyword">VALUES</span> (p_job_id</span><br><span class="line">					, p_job_title</span><br><span class="line">					, p_min_sal</span><br><span class="line">					, p_max_sal</span><br><span class="line">					, SYSDATE</span><br><span class="line">					, SYSDATE);</span><br><span class="line">	<span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<h3 id="2-프로시저-실행"><a href="#2-프로시저-실행" class="headerlink" title="2. 프로시저 실행"></a>2. <strong>프로시저 실행</strong></h3><ul>
<li>exec 익명 블록</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> my_new_job_proc (<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>, <span class="number">1000</span>, <span class="number">5000</span>);</span><br><span class="line"><span class="comment">-- 결과 : ORA-00001: 무결성 제약 조건(ORA_USER.PK_JOBS)에 위배됩니다</span></span><br></pre></td></tr></table></figure>

<ul>
<li>테이블 조회</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png" alt="Untitled"></p>
</li>
<li><p>재 확인</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> my_new_job_proc (<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>, <span class="number">1000</span>, <span class="number">5000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 결과 : ORA-00001: 무결성 제약 조건(ORA_USER.PK_JOBS)에 위배됩니다</span></span><br></pre></td></tr></table></figure>

<ul>
<li>프로시저 업데이트</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">	, p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">	, p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">	, p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vn_cnt NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">		<span class="comment">-- 동일한 JOB_ID가 있는지 체크</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">	    <span class="keyword">INTO</span> vn_cnt</span><br><span class="line">	    <span class="keyword">FROM</span> JOBS</span><br><span class="line">	    <span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="comment">-- 없으면 INSERT</span></span><br><span class="line">	IF vn_cnt <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">					, job_title</span><br><span class="line">                    , min_salary</span><br><span class="line">                    , max_salary</span><br><span class="line">                    , create_date</span><br><span class="line">                    , update_date)</span><br><span class="line">	<span class="keyword">VALUES</span> (p_job_id, p_job_title, p_min_sal, p_max_sal, SYSDATE, SYSDATE);</span><br><span class="line">	<span class="keyword">ELSE</span> <span class="comment">-- 있으면 UPDATE</span></span><br><span class="line">		<span class="keyword">UPDATE</span> JOBS</span><br><span class="line">			<span class="keyword">SET</span> job_title <span class="operator">=</span> p_job_title</span><br><span class="line">                            , min_salary <span class="operator">=</span> p_min_sal</span><br><span class="line">                            , max_salary <span class="operator">=</span> p_max_sal</span><br><span class="line">                            , update_date <span class="operator">=</span> SYSDATE</span><br><span class="line">		<span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line">	<span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- 결과 : Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXEC</span> my_new_job_proc (<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>, <span class="number">2000</span>, <span class="number">6000</span>);</span><br><span class="line"><span class="comment">-- 결과 : PL/SQL 프로시저가 성공적으로 완료되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>테이블 조회</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%203.png" alt="Untitled"></p>
</li>
<li><p>&lt;프로시저 실행2&gt;</p>
</li>
<li><p>기본 유형</p>
</li>
<li><p>‘&#x3D;&gt;’기호를 사용해 해당 매개변수명과 값을 연결하는 형태</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">• EXEC 혹은 EXECUTE 프로시저명(매개변수1 =&gt; 매개변수1 값,</span><br><span class="line">    　　　　　　　　　　  　　　매개변수2 =&gt; 매개변수2 값, ...);</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> my_new_job_proc (p_job_id <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;SM_JOB1&#x27;</span>, p_job_title <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;Sample JOB1&#x27;</span>, p_min_sal <span class="operator">=</span><span class="operator">&gt;</span> <span class="number">2000</span>, p_max_sal <span class="operator">=</span><span class="operator">&gt;</span> <span class="number">7000</span>);</span><br><span class="line"><span class="comment">-- 결과</span></span><br><span class="line"><span class="comment">-- &gt;&gt;Query Run In:질의 결과</span></span><br><span class="line"><span class="comment">-- PL/SQL 프로시저가 성공적으로 완료되었습니다.</span></span><br></pre></td></tr></table></figure>

<h3 id="3-매개-변수-디폴트-값-설정"><a href="#3-매개-변수-디폴트-값-설정" class="headerlink" title="3. 매개 변수 디폴트 값 설정"></a>3. <strong>매개 변수 디폴트 값 설정</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">    , p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">    , p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">10</span></span><br><span class="line">    , p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">100</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vn_cnt NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="comment">-- 동일한 JOB_ID가 있는지 체크</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">		<span class="keyword">INTO</span> vn_cnt</span><br><span class="line">		<span class="keyword">FROM</span> JOBS</span><br><span class="line">		<span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="comment">-- 없으면 INSERT</span></span><br><span class="line">	IF vn_cnt <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">                    , job_title</span><br><span class="line">                    , min_salary</span><br><span class="line">                    , max_salary</span><br><span class="line">                    , create_date</span><br><span class="line">                    , update_date)</span><br><span class="line">	<span class="keyword">VALUES</span> (p_job_id, p_job_title, p_min_sal, p_max_sal, SYSDATE, SYSDATE);</span><br><span class="line">	<span class="keyword">ELSE</span> <span class="comment">-- 있으면 UPDATE</span></span><br><span class="line">	<span class="keyword">UPDATE</span> JOBS</span><br><span class="line">		<span class="keyword">SET</span> job_title <span class="operator">=</span> p_job_title</span><br><span class="line">                        , min_salary <span class="operator">=</span> p_min_sal</span><br><span class="line">                        , max_salary <span class="operator">=</span> p_max_sal</span><br><span class="line">                        , update_date <span class="operator">=</span> SYSDATE</span><br><span class="line">	<span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line">	<span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다. </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>확인</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> my_new_job_proc(<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> jobs <span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png" alt="Untitled"></p>
</li>
</ul>
<h3 id="4-OUT-IN-OUT-매개-변수"><a href="#4-OUT-IN-OUT-매개-변수" class="headerlink" title="4. OUT, IN OUT 매개 변수"></a>4. <strong>OUT, IN OUT 매개 변수</strong></h3><ul>
<li>프로시저 함수와 다르게 로직 처리만 수행 &#x2F; 결괏값 반환 (X) _ p.290</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> JOBS;</span><br></pre></td></tr></table></figure>

<ul>
<li>프로시저 생성</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">	, p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">	, p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">	, p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">                    , job_title</span><br><span class="line">                    , min_salary</span><br><span class="line">                    , max_salary</span><br><span class="line">                    , create_date</span><br><span class="line">                    , update_date)</span><br><span class="line">	<span class="keyword">VALUES</span>(p_job_id, p_job_title, p_min_sal, p_max_sal, SYSDATE, SYSDATE);</span><br><span class="line">	<span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>프로시저 실행</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> my_new_job_proc (<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>, <span class="number">2000</span>, <span class="number">6000</span>);</span><br><span class="line"><span class="comment">-- ORA-00001: 무결성 제약 조건(ORA_USER.PK_JOBS)에 위배됩니다</span></span><br></pre></td></tr></table></figure>

<ul>
<li>확인</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png" alt="Untitled"></p>
</li>
<li><p>프로시저 업데이트</p>
</li>
<li><p>끊기면 안되고, 계속 실행이 되어야 함</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">	, p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">	, p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">	, p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE</span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vn_cnt NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="comment">-- 동일한 JOB_ID가 있는지 체크</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">		<span class="keyword">INTO</span> vn_cnt</span><br><span class="line">		<span class="keyword">FROM</span> JOBS</span><br><span class="line">		<span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line"></span><br><span class="line">	<span class="comment">-- 없으면 INSERT</span></span><br><span class="line">	IF vn_cnt <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">	    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">                        , job_title</span><br><span class="line">                        , min_salary</span><br><span class="line">                        , max_salary</span><br><span class="line">                        , create_date</span><br><span class="line">                        , update_date)</span><br><span class="line">    <span class="keyword">VALUES</span>(p_job_id, p_job_title, p_min_sal, p_max_sal, SYSDATE, SYSDATE);</span><br><span class="line">	<span class="keyword">ELSE</span> <span class="comment">-- 있으면 UPDATE</span></span><br><span class="line">    <span class="keyword">UPDATE</span> JOBS</span><br><span class="line">        <span class="keyword">SET</span> job_title    <span class="operator">=</span> p_job_title</span><br><span class="line">	        , min_salary   <span class="operator">=</span> p_min_sal</span><br><span class="line">	        , max_salary   <span class="operator">=</span> p_max_sal</span><br><span class="line">	        , update_date  <span class="operator">=</span> SYSDATE</span><br><span class="line">    <span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>프로시저 실행</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> my_new_job_proc (<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>, <span class="number">1000</span>, <span class="number">5000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 확인</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>결과</p>
<p>  <img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%202.png" alt="Untitled"></p>
</li>
<li><p>프로시저 실행</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> my_new_job_proc (p_job_id <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;SM_JOB1&#x27;</span>, p_job_title <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;Sample JOB1&#x27;</span>, p_min_sal <span class="operator">=</span><span class="operator">&gt;</span> <span class="number">2000</span>, p_max_sal <span class="operator">=</span><span class="operator">&gt;</span> <span class="number">7000</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>확인</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> jobs <span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>매개변수 디폴트 설정</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">	, p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">	, p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">10</span></span><br><span class="line">	, p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">100</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">	vn_cnt NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="comment">-- 동일한 JOB_ID가 있는지 체크</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">INTO</span> vn_cnt</span><br><span class="line">		<span class="keyword">FROM</span> JOBS</span><br><span class="line">		<span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line"></span><br><span class="line">	<span class="comment">-- 없으면 INSERT</span></span><br><span class="line">	IF vn_cnt <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">	    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">	                 , job_title</span><br><span class="line">	                 , min_salary</span><br><span class="line">	                 , max_salary</span><br><span class="line">	                 , create_date</span><br><span class="line">	                 , update_date)</span><br><span class="line">	    <span class="keyword">VALUES</span>(p_job_id, p_job_title, p_min_sal, p_max_sal, SYSDATE, SYSDATE);</span><br><span class="line">	<span class="keyword">ELSE</span> <span class="comment">-- 있으면 UPDATE</span></span><br><span class="line">	    <span class="keyword">UPDATE</span> JOBS</span><br><span class="line">	        <span class="keyword">SET</span> job_title    <span class="operator">=</span> p_job_title</span><br><span class="line">		        , min_salary   <span class="operator">=</span> p_min_sal</span><br><span class="line">	            , max_salary   <span class="operator">=</span> p_max_sal</span><br><span class="line">	            , update_date  <span class="operator">=</span> SYSDATE</span><br><span class="line">	    <span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">	<span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>프로시저 실행</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> my_new_job_proc(<span class="string">&#x27;SM_JOB1&#x27;</span>, <span class="string">&#x27;Sample JOB1&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> jobs <span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;SM_JOB1&#x27;</span>;</span><br></pre></td></tr></table></figure>


<h3 id="04-RETURN-문"><a href="#04-RETURN-문" class="headerlink" title="04. RETURN 문"></a>04. RETURN 문</h3><ul>
<li>프로시저에서는 RETURN문을 만나면 이후 로직을 처리하지 않고 수행을 종료</li>
<li>OUT, IN OUT 매개변수</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> my_new_job_proc</span><br><span class="line">(p_job_id <span class="keyword">IN</span> JOBS.JOB_ID<span class="operator">%</span>TYPE</span><br><span class="line">    , p_job_title <span class="keyword">IN</span> JOBS.JOB_TITLE<span class="operator">%</span>TYPE</span><br><span class="line">    , p_min_sal <span class="keyword">IN</span> JOBS.MIN_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">10</span></span><br><span class="line">    , p_max_sal <span class="keyword">IN</span> JOBS.MAX_SALARY<span class="operator">%</span>TYPE :<span class="operator">=</span> <span class="number">100</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">IS</span></span><br><span class="line">    vn_cnt NUMBER :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    vn_cur_date JOBS.UPDATE_DATE<span class="operator">%</span>TYPE :<span class="operator">=</span> SYSDATE;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">-- 1000보다 작으면 메시지 출력 후 빠져 나온다</span></span><br><span class="line">    IF p_min_sal <span class="operator">&lt;</span> <span class="number">1000</span> <span class="keyword">THEN</span></span><br><span class="line">        DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;최소 급여값은 1000 이상이여야 한다!&#x27;</span>);</span><br><span class="line">    <span class="keyword">RETURN</span>;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 동일한 JOB_ID가 있는지 체크</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">INTO</span> vn_cnt</span><br><span class="line">    <span class="keyword">FROM</span> JOBS</span><br><span class="line">    <span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 없으면 INSERT</span></span><br><span class="line">    IF vn_cnt <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> JOBS(job_id</span><br><span class="line">                , job_title</span><br><span class="line">                , min_salary</span><br><span class="line">                , max_salary</span><br><span class="line">                , create_date</span><br><span class="line">                , update_date)</span><br><span class="line">    <span class="keyword">VALUES</span>(p_job_id, p_job_title, p_min_sal, p_max_sal, vn_cur_date, vn_cur_date);</span><br><span class="line">    <span class="keyword">ELSE</span> <span class="comment">-- 있으면 UPDATE</span></span><br><span class="line">    <span class="keyword">UPDATE</span> JOBS</span><br><span class="line">        <span class="keyword">SET</span> job_title    <span class="operator">=</span> p_job_title</span><br><span class="line">        , min_salary   <span class="operator">=</span> p_min_sal</span><br><span class="line">        , max_salary   <span class="operator">=</span> p_max_sal</span><br><span class="line">        , update_date  <span class="operator">=</span> vn_cur_date</span><br><span class="line">    <span class="keyword">WHERE</span> job_id <span class="operator">=</span> p_job_id;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- Procedure MY_NEW_JOB_PROC이(가) 컴파일되었습니다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong><strong>변수, 상수, 매개변수, 함수, 프로시저의 명명법</strong></strong></li>
</ul>
<p><img src="/%5Cimages%5COracle%5Cchapter09%5CUntitled%204.png" alt="Untitled"></p>
<ul>
<li>예제</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    emp_name VARCHAR2(<span class="number">80</span>);    <span class="comment">-- 변수선언</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    emp_name :<span class="operator">=</span> <span class="string">&#x27;hong&#x27;</span>;    <span class="comment">-- 갱신할 값 할당</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> employees</span><br><span class="line">    <span class="keyword">SET</span> emp_name <span class="operator">=</span> emp_name   <span class="comment">-- 위에서 할당한 값으로 갱신하려 했지만, 오라클은 변수가 아닌 컬럼명으로 인지함</span></span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> emp_name</span><br><span class="line">    <span class="keyword">INTO</span> emp_name</span><br><span class="line">    <span class="keyword">FROM</span> employees</span><br><span class="line">    <span class="keyword">WHERE</span> employee_id <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    DBMS_OUTPUT.PUT_LINE(emp_name);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- 결과 : Steven King</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kjm12misa.github.io/2022/05/03/Oracle/chapter09/" data-id="cl2sprvew0006e8v19c4qahn3" data-title="🎈Oracle PL/SQL_Chapter 09" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/05/05/Html/Html01/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          🎉html 태그 기본 문법
        
      </div>
    </a>
  
  
    <a href="/2022/05/02/Oracle/Chapter04/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">🎈OracleSQL_Chapter 04</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/05/Html/Html01/">🎉html 태그 기본 문법</a>
          </li>
        
          <li>
            <a href="/2022/05/03/Oracle/chapter09/">🎈Oracle PL/SQL_Chapter 09</a>
          </li>
        
          <li>
            <a href="/2022/05/02/Oracle/Chapter04/">🎈OracleSQL_Chapter 04</a>
          </li>
        
          <li>
            <a href="/2022/04/27/Oracle/chapter03/">🎈OracleSQL_Chapter 03</a>
          </li>
        
          <li>
            <a href="/2022/04/27/Oracle/chapter05/">🎈Oracle SQL_Chapter 05</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>